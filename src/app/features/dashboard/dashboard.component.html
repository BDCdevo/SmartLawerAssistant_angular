<section class="dashboard-container" dir="rtl">
  <!-- Hero Section -->
  <div class="hero-section">
    <div class="hero-content">
      <div class="logo-wrapper">
        <img [src]="logoPath" alt="Smart Lawyer Logo" class="hero-logo">
      </div>
      <div class="hero-text">
        <h1 class="hero-title">ุงููุญุงูู ุงูุฐูู</h1>
        <p class="hero-subtitle">Smart Lawyer Assistant</p>
        <p class="hero-description">
          ูุธุงู ูุชูุงูู ูุฅุฏุงุฑุฉ ุงูููุงุชุจ ุงููุงููููุฉ ูุฏุนูู ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู
        </p>
      </div>
    </div>
  </div>

  @if (loading()) {
    <div class="loading-overlay">
      <div class="spinner-container">
        <div class="spinner"></div>
        <p>ุฌุงุฑู ุชุญููู ุงูุจูุงูุงุช...</p>
      </div>
    </div>
  }

  @if (error()) {
    <div class="error-message">
      <span class="error-icon">โ๏ธ</span>
      <div class="error-content">
        <h3>ุญุฏุซ ุฎุทุฃ</h3>
        <p>{{ error() }}</p>
      </div>
      <button class="retry-btn" (click)="loadDashboardData()">ุฅุนุงุฏุฉ ุงููุญุงููุฉ</button>
    </div>
  }

  @if (!loading() && !error()) {
    <!-- Key Statistics -->
    <div class="stats-section">
      <h2 class="section-title">ูุธุฑุฉ ุนุงูุฉ</h2>
      <div class="stats-grid">
        <div class="stat-card primary">
          <div class="stat-icon">โ๏ธ</div>
          <div class="stat-content">
            <h3 class="stat-value">{{ stats().totalCases }}</h3>
            <p class="stat-label">ุฅุฌูุงูู ุงููุถุงูุง</p>
            <span class="stat-detail">{{ stats().activeCases }} ูุดุทุฉ</span>
          </div>
        </div>

        <div class="stat-card success">
          <div class="stat-icon">๐ฅ</div>
          <div class="stat-content">
            <h3 class="stat-value">{{ stats().totalClients }}</h3>
            <p class="stat-label">ุฅุฌูุงูู ุงูุนููุงุก</p>
            <span class="stat-detail">ูููููู ูุณุฌููู</span>
          </div>
        </div>

        <div class="stat-card warning">
          <div class="stat-icon">๐</div>
          <div class="stat-content">
            <h3 class="stat-value">{{ stats().upcomingHearings }}</h3>
            <p class="stat-label">ุงูุฌูุณุงุช ุงููุงุฏูุฉ</p>
            <span class="stat-detail">ุฎูุงู 7 ุฃูุงู</span>
          </div>
        </div>

        <div class="stat-card info">
          <div class="stat-icon">๐</div>
          <div class="stat-content">
            <h3 class="stat-value">{{ stats().totalDocuments }}</h3>
            <p class="stat-label">ุงููุณุชูุฏุงุช</p>
            <span class="stat-detail">ูู ุงููุธุงู</span>
          </div>
        </div>
      </div>
    </div>

    <!-- How We Help Section -->
    <div class="features-section">
      <h2 class="section-title">ููู ูุณุงุนุฏู ุงููุธุงู</h2>
      <div class="features-grid">
        <div class="feature-card">
          <div class="feature-icon">๐ค</div>
          <h3>ุงูุฐูุงุก ุงูุงุตุทูุงุนู</h3>
          <p>ุชุญููู ุฐูู ูููุณุชูุฏุงุช ุงููุงููููุฉ ูุงุณุชุฎุฑุงุฌ ุงููุนูููุงุช ุงููุงูุฉ ุชููุงุฆูุงู</p>
        </div>

        <div class="feature-card">
          <div class="feature-icon">๐</div>
          <h3>ุฅุฏุงุฑุฉ ุดุงููุฉ</h3>
          <p>ุชูุธูู ุฌููุน ุงููุถุงูุง ูุงูุนููุงุก ูุงูุฌูุณุงุช ูู ููุงู ูุงุญุฏ</p>
        </div>

        <div class="feature-card">
          <div class="feature-icon">๐</div>
          <h3>ุชูุจููุงุช ุฐููุฉ</h3>
          <p>ุฅุดุนุงุฑุงุช ุชููุงุฆูุฉ ุจููุงุนูุฏ ุงูุฌูุณุงุช ูุงูููุงู ุงููููุฉ</p>
        </div>

        <div class="feature-card">
          <div class="feature-icon">๐</div>
          <h3>ุฅุนุฏุงุฏ ุงูุชูุงุฑูุฑ</h3>
          <p>ุชูุงุฑูุฑ ุชูุตูููุฉ ูุฅุญุตุงุฆูุงุช ุฏูููุฉ ูุฃุฏุงุก ููุชุจู</p>
        </div>

        <div class="feature-card">
          <div class="feature-icon">๐</div>
          <h3>ุฃูุงู ุนุงูู</h3>
          <p>ุญูุงูุฉ ูุชูุฏูุฉ ูุจูุงูุงุช ุงูุนููุงุก ูุงููุณุชูุฏุงุช ุงูุณุฑูุฉ</p>
        </div>

        <div class="feature-card">
          <div class="feature-icon">โก</div>
          <h3>ุณุฑุนุฉ ูููุงุกุฉ</h3>
          <p>ุชูููุฑ ุงูููุช ูุงูุฌูุฏ ูู ุงูุนูููุงุช ุงูููููุฉ</p>
        </div>
      </div>
    </div>

    <!-- Quick Actions -->
    <div class="actions-section">
      <h2 class="section-title">ุฅุฌุฑุงุกุงุช ุณุฑูุนุฉ</h2>
      <div class="actions-grid">
        <a routerLink="/cases/new" class="action-card">
          <div class="action-icon primary">โ๏ธ</div>
          <h3>ูุถูุฉ ุฌุฏูุฏุฉ</h3>
          <p>ุฅุถุงูุฉ ูุถูุฉ ูููุธุงู</p>
        </a>

        <a routerLink="/clients/new" class="action-card">
          <div class="action-icon success">๐ค</div>
          <h3>ุนููู ุฌุฏูุฏ</h3>
          <p>ุชุณุฌูู ูููู ุฌุฏูุฏ</p>
        </a>

        <a routerLink="/documents/upload" class="action-card">
          <div class="action-icon info">๐</div>
          <h3>ุฑูุน ูุณุชูุฏ</h3>
          <p>ุฅุถุงูุฉ ูุณุชูุฏ ุฌุฏูุฏ</p>
        </a>

        <a routerLink="/ai-assistant" class="action-card">
          <div class="action-icon warning">๐ค</div>
          <h3>ุงููุณุงุนุฏ ุงูุฐูู</h3>
          <p>ุงุณุชุดุงุฑุฉ ูุงููููุฉ</p>
        </a>

        <a routerLink="/sessions" class="action-card">
          <div class="action-icon document">๐</div>
          <h3>ุงูุฌูุณุงุช</h3>
          <p>ุนุฑุถ ูุฅุฏุงุฑุฉ ุงูุฌูุณุงุช</p>
        </a>

        <a routerLink="/reports" class="action-card">
          <div class="action-icon primary">๐</div>
          <h3>ุงูุชูุงุฑูุฑ</h3>
          <p>ุชูุงุฑูุฑ ุชูุตูููุฉ</p>
        </a>
      </div>
    </div>

    <!-- Recent Activities (Simplified) -->
    @if (recentActivities() && recentActivities().length > 0) {
      <div class="activities-section">
        <div class="section-header">
          <h2 class="section-title">ุขุฎุฑ ุงูุฃูุดุทุฉ</h2>
          <a routerLink="/activity-log" class="view-all-link">ุนุฑุถ ุงููู โ</a>
        </div>
        <div class="activities-list">
          @for (activity of recentActivities().slice(0, 5); track activity.id) {
            <div class="activity-item">
              <div class="activity-icon">{{ getActivityIcon(activity.type) }}</div>
              <div class="activity-content">
                <p class="activity-description">{{ activity.description }}</p>
                <span class="activity-time">{{ getTimeAgo(activity.timestamp) }}</span>
              </div>
            </div>
          }
        </div>
      </div>
    }
  }
</section>

<div class="ai-model-settings-container">
  <!-- Header Section -->
  <div class="page-header">
    <div class="header-content">
      <div class="header-text">
        <h1 class="page-title">
          <span class="title-icon">๐ค</span>
          <span>ุฅุฏุงุฑุฉ ููุงุฐุฌ ุงูุฐูุงุก ุงูุงุตุทูุงุนู</span>
        </h1>
        <p class="page-subtitle">
          ุงุฎุชุฑ ูุชุญูู ูู ูููุฐุฌ ุงูุฐูุงุก ุงูุงุตุทูุงุนู ุงููุณุชุฎุฏู ูู ุงููุธุงู
        </p>
      </div>
      <button class="btn-refresh" (click)="loadModels()" [disabled]="loading()">
        <span class="refresh-icon" [class.spinning]="loading()">โป</span>
        <span>ุชุญุฏูุซ</span>
      </button>
    </div>
  </div>

  <!-- Current Active Model Banner -->
  <div class="current-model-section" *ngIf="currentModelName()">
    <div class="current-model-card">
      <div class="model-status">
        <span class="status-badge active">
          <span class="pulse-dot"></span>
          ูุดุท ุงูุขู
        </span>
      </div>
      <div class="model-info">
        <h3 class="model-label">ุงููููุฐุฌ ุงูุญุงูู</h3>
        <p class="model-name">{{ currentModelName() }}</p>
        <p class="model-source" *ngIf="currentModelDetails()">
          ุงููุตุฏุฑ: <strong>{{ currentModelDetails()?.source || 'Config' }}</strong>
        </p>
      </div>
      <div class="model-icon-large">
        ๐
      </div>
    </div>
  </div>

  <!-- Loading State -->
  <div class="loading-section" *ngIf="loading()">
    <div class="loading-spinner">
      <div class="spinner"></div>
    </div>
    <p class="loading-text">ุฌุงุฑู ุชุญููู ุงูููุงุฐุฌ ุงููุชุงุญุฉ...</p>
  </div>

  <!-- Empty State -->
  <div class="empty-section" *ngIf="!loading() && models().length === 0">
    <div class="empty-icon">๐ญ</div>
    <h3 class="empty-title">ูุง ุชูุฌุฏ ููุงุฐุฌ ูุชุงุญุฉ</h3>
    <p class="empty-description">ูู ูุชููู ูู ุงูุนุซูุฑ ุนูู ุฃู ููุงุฐุฌ ุฐูุงุก ุงุตุทูุงุนู ูุชุงุญุฉ ูู ุงูููุช ุงูุญุงูู</p>
    <button class="btn-primary" (click)="loadModels()">
      <span>โป</span>
      <span>ุฅุนุงุฏุฉ ุงููุญุงููุฉ</span>
    </button>
  </div>

  <!-- Models Grid -->
  <div class="models-section" *ngIf="!loading() && models().length > 0">
    <div class="section-header">
      <h2 class="section-title">
        <span class="title-icon">๐</span>
        <span>ุงูููุงุฐุฌ ุงููุชุงุญุฉ ({{ models().length }})</span>
      </h2>
      <p class="section-subtitle">{{ models().length }} ูููุฐุฌ ูุชุงุญ</p>
    </div>

    <div class="models-grid">
      <div
        *ngFor="let model of models()"
        class="model-card"
        [class.selected]="isSelectedModel(model.id)"
        [class.current]="isCurrentModel(model.id)"
        (click)="selectModel(model.id)">

        <!-- Model Badge -->
        <div class="model-badges">
          <span class="badge badge-current" *ngIf="isCurrentModel(model.id)">
            โ ุงูุงูุชุฑุงุถู
          </span>
          <span class="badge badge-selected" *ngIf="isSelectedModel(model.id) && !isCurrentModel(model.id)">
            โ ูุญุฏุฏ
          </span>
        </div>

        <!-- Model Header -->
        <div class="model-header">
          <div class="model-icon">
            {{ getProviderIcon(model.provider) }}
          </div>
          <div class="model-details">
            <h3 class="model-title">{{ model.name }}</h3>
            <p class="model-provider">{{ model.provider || 'Unknown' }}</p>
          </div>
        </div>

        <!-- Model Description -->
        <p class="model-description" *ngIf="model.description">
          {{ model.description }}
        </p>

        <!-- Model Capabilities -->
        <div class="model-capabilities" *ngIf="model.capabilities && model.capabilities.length > 0">
          <div class="capabilities-label">ุงููุฏุฑุงุช:</div>
          <div class="capabilities-tags">
            <span class="capability-tag" *ngFor="let capability of model.capabilities">
              {{ capability }}
            </span>
          </div>
        </div>

        <!-- Model Footer -->
        <div class="model-footer">
          <div class="select-indicator" *ngIf="!isCurrentModel(model.id)">
            <span class="indicator-icon">{{ isSelectedModel(model.id) ? 'โ' : 'โ' }}</span>
            <span class="indicator-text">{{ isSelectedModel(model.id) ? 'ุชู ุงูุชุญุฏูุฏ' : 'ุงููุฑ ููุชุญุฏูุฏ' }}</span>
          </div>
          <div class="current-indicator" *ngIf="isCurrentModel(model.id)">
            <span class="check-icon">โ</span>
            <span>ุงููููุฐุฌ ุงูุงูุชุฑุงุถู</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="action-section">
      <button
        class="btn-primary btn-large"
        [disabled]="!selectedModelId() || isCurrentModel(selectedModelId()!) || loading()"
        (click)="setAsDefault()">
        <span class="btn-icon">โ</span>
        <span>ุชุนููู ููููุฐุฌ ุงูุชุฑุงุถู</span>
      </button>

      <button
        class="btn-secondary btn-large"
        [disabled]="loading()"
        (click)="loadModels()">
        <span class="btn-icon">โป</span>
        <span>ุชุญุฏูุซ ุงููุงุฆูุฉ</span>
      </button>
    </div>
  </div>

  <!-- Test Data Section (for development) -->
  <div class="test-section" *ngIf="!isTestMode()">
    <button class="btn-test" (click)="addTestModels()">
      ๐งช ุชุญููู ููุงุฐุฌ ุชุฌุฑูุจูุฉ
    </button>
  </div>
  <div class="test-section" *ngIf="isTestMode()">
    <button class="btn-test" (click)="loadModels()">
      ๐ ุชุญููู ูู API ุงูุญูููู
    </button>
  </div>
</div>

<div class="login-container">
  <div class="login-card">
    <div class="login-header">
      <h1>Smart Lawyer Portal</h1>
      <p>ุชุณุฌูู ุงูุฏุฎูู ุฅูู ุญุณุงุจู</p>
    </div>

    @if (error()) {
      <div class="alert alert-error">
        {{ error() }}
      </div>
    }

    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
      <div class="form-group">
        <label for="emailOrPhone">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุฃู ุฑูู ุงููุงุชู</label>
        <input
          type="text"
          id="emailOrPhone"
          formControlName="emailOrPhone"
          placeholder="example@email.com ุฃู 01012345678"
          [class.invalid]="emailOrPhone?.invalid && emailOrPhone?.touched"
        />
        @if (emailOrPhone?.invalid && emailOrPhone?.touched) {
          <span class="error-message">
            @if (emailOrPhone?.errors?.['required']) {
              ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุฃู ุฑูู ุงููุงุชู ูุทููุจ
            }
          </span>
        }
      </div>

      <div class="form-group">
        <label for="password">ูููุฉ ุงููุฑูุฑ</label>
        <div class="password-input">
          <input
            [type]="showPassword() ? 'text' : 'password'"
            id="password"
            formControlName="password"
            placeholder="********"
            [class.invalid]="password?.invalid && password?.touched"
          />
          <button
            type="button"
            class="toggle-password"
            (click)="togglePasswordVisibility()"
          >
            {{ showPassword() ? '๐' : '๐๏ธ' }}
          </button>
        </div>
        @if (password?.invalid && password?.touched) {
          <span class="error-message">
            @if (password?.errors?.['required']) {
              ูููุฉ ุงููุฑูุฑ ูุทููุจุฉ
            }
            @if (password?.errors?.['minlength']) {
              ูููุฉ ุงููุฑูุฑ ูุฌุจ ุฃู ุชููู 6 ุฃุญุฑู ุนูู ุงูุฃูู
            }
          </span>
        }
      </div>

      <div class="form-group checkbox-group">
        <label>
          <input type="checkbox" formControlName="rememberMe" />
          <span>ุชุฐูุฑูู</span>
        </label>
        <button type="button" (click)="openForgetPassword()" class="forgot-password">ูุณูุช ูููุฉ ุงููุฑูุฑุ</button>
      </div>

      <button
        type="submit"
        class="btn-primary"
        [disabled]="loading()"
      >
        @if (loading()) {
          <span class="spinner"></span>
          ุฌุงุฑู ุชุณุฌูู ุงูุฏุฎูู...
        } @else {
          ุชุณุฌูู ุงูุฏุฎูู
        }
      </button>
    </form>

    <div class="login-footer">
      <p>ููุณ ูุฏูู ุญุณุงุจุ <a routerLink="/auth/register">ุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏ</a></p>
    </div>
  </div>
</div>


<!-- Forget Password Modal -->
<app-forget-password></app-forget-password>
